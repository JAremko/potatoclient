# CMD-Explorer Implementation Plan

## Phase 0: Critical Foundation - Malli Specs and Guardrails Setup

**MUST COMPLETE BEFORE ANY IMPLEMENTATION**

### Malli Global Registry Setup
- [x] Configure Malli to use global registry for all specs
  - [x] Set up `malli.registry/set-default-registry!`
  - [x] Ensure all specs are registered globally
  - [x] Enable spec reuse across namespaces
  - [x] Configure registry in dev/test/prod profiles

### Guardrails Configuration  
- [x] **Configure guardrails to use Malli namespace (NOT clojure.spec)**
  - [x] Use `com.fulcrologic.guardrails.malli` namespace exclusively
  - [x] Do NOT use default `com.fulcrologic.guardrails.core` (that's for clojure.spec)
  - [x] Configure guardrails.edn with Malli-specific settings
  - [x] Enable instrumentation in dev/test profiles only
  - [x] Set up expound for better error messages

### Oneof Spec Migration to Pronto
- [x] **Copy and adapt `/home/jare/git/potatoclient/src/potatoclient/specs/malli_oneof.clj`**
  - [x] Copy to `src/cmd_explorer/specs/oneof_payload.clj`
  - [x] **Adapt for Pronto proto-maps (CRITICAL)**
    - [x] Replace map validation with proto-map validation
    - [x] Use `pronto.core/which-one-of` to check active field
    - [x] Use `pronto.core/one-of` to extract field value (uses getter methods)
    - [x] Handle Pronto's "all fields present" behavior
    - [x] Account for scalar fields never being nil (have zero-values)
  - [x] **Update generator to produce Pronto proto-maps**
    - [x] Generator must create `(p/proto-map mapper Class :field value)`
    - [x] Ensure exactly one oneof field is set
    - [x] Test generator produces valid proto instances
  - [x] **Comprehensive testing of oneof spec**
    - [x] Test validates Pronto proto-maps correctly
    - [x] Test rejects maps with zero fields set
    - [x] Test rejects maps with multiple fields set
    - [x] Test accepts maps with exactly one field set
    - [x] Generate 1000+ samples and verify all are valid
    - [x] Verify generated proto-maps can serialize/deserialize
  - [x] **Bonus: Improved to use Pronto's descriptor API**
    - [x] Use `pronto.type-gen/descriptor` for field metadata
    - [x] Use `pronto.utils/field->camel-case` for name conversion
    - [x] Fallback to reflection only when needed

### Core Specs with Pronto Compatibility
- [x] Define `cmd-root-spec` for JonCommand validation
  - [x] Must work with Pronto proto-maps
  - [x] Validate oneof constraint using adapted oneof spec
  - [ ] Include timestamp and ID field validation
  - [x] Register in global Malli registry
- [x] Define common reusable specs
  - [x] Angle specs with buf.validate constraints
  - [x] Range specs with min/max from proto
  - [x] Position specs for coordinates
  - [x] Enum specs matching proto enums
  - [x] All specs registered globally for reuse

### Verify Foundation Before Proceeding
- [x] All specs in global registry and accessible
- [x] Guardrails configured for Malli only
- [x] Oneof spec works with Pronto proto-maps
- [x] Generators produce valid Pronto instances
- [x] 1000+ generated samples pass validation
- [x] Round-trip serialization works

**âœ… PHASE 0 COMPLETE - READY TO PROCEED TO PHASE 1**

---

## Preamble - Implementation Strategy and Guidelines

### Overview
CMD-Explorer is a comprehensive testing and validation tool for WebSocket command endpoints. It implements all TypeScript cmd functions with full protobuf validation, generative testing, and buf.validate constraint enforcement.

### Architecture Overview

The tool will use a multimethod-based dispatch system for sending commands, where:
1. Each command function accepts a payload map and constructs the appropriate protobuf message
2. A central dispatcher routes commands based on the payload type (oneof field)
3. All functions are guardrails-protected with Malli specs (using `com.fulcrologic.guardrails.malli`)
4. Validation happens at multiple levels: Malli specs, buf.validate constraints, and protobuf parsing

### Key Technologies and References

#### Proto-Explorer Usage (CRITICAL TOOL)

**Proto-Explorer is MANDATORY for understanding message structures and constraints.**

Every function implementation MUST start with proto-explorer to:
1. Understand exact message structure
2. Discover buf.validate constraints
3. Identify required vs optional fields
4. Understand nested message relationships
5. Find enum values and their constraints

```bash
cd tools/proto-explorer

# Use bb tasks to explore messages
bb spec DayCamera.Root      # Show specific message structure
bb spec DayCamera.Zoom      # Show nested message
bb spec RotaryPlatform.Azimuth  # Show another nested message

# Find messages by fuzzy search
bb find "DayCamera"         # List all DayCamera-related messages

# Generate example data
bb example DayCamera.Zoom   # Generate sample data for testing
```

**Never implement a function without first exploring its protobuf structure!**

#### Pronto Documentation
- Main docs: https://raw.githubusercontent.com/JAremko/pronto/refs/heads/master/README.md
- Performance: https://raw.githubusercontent.com/JAremko/pronto/refs/heads/master/doc/performance.md
- Key features: Automatic EDN<->Protobuf conversion, validation support, nested message handling

#### Guardrails with Malli
- Documentation: https://raw.githubusercontent.com/fulcrologic/guardrails/refs/heads/main/README.adoc
- Use `com.fulcrologic.guardrails.malli` namespace for Malli integration
- Every function must have >? and <? annotations for input/output validation

#### Buf.validate Constraints
Java protobuf classes contain validation annotations that we must respect:
- Field constraints (min/max values, string patterns, required fields)
- Oneof constraints (exactly one field must be set)
- Custom CEL expressions for complex validation

### TypeScript Reference Implementation
Location: `/home/jare/git/potatoclient/examples/web/frontend/ts/cmd/`

Key files with command bindings to implement:
- `cmdSender/cmdDayCamera.ts` - Day camera commands (29 functions)
- `cmdSender/cmdHeatCamera.ts` - Heat camera commands (31 functions)
- `cmdSender/cmdRotary.ts` - Rotary platform commands (40 functions)
- `cmdSender/cmdLRF.ts` - Laser rangefinder commands (14 functions)
- `cmdSender/cmdCompass.ts` - Compass commands (11 functions)
- `cmdSender/cmdGps.ts` - GPS commands (5 functions)
- `cmdSender/cmdSystem.ts` - System commands (11 functions)
- `cmdSender/cmdOSD.ts` - OSD commands (8 functions)
- `cmdSender/cmdCamDayGlassHeater.ts` - Glass heater commands (5 functions)
- `cmdSender/cmdCV.ts` - Computer vision commands (8 functions)
- `cmdSender/cmdLRFAlignment.ts` - LRF alignment commands (10 functions)

Note: `cmdSenderShared.ts` contains TypeScript-specific infrastructure (message creation, encoding, WebSocket handling) that will be replaced by our Clojure implementation using Pronto and our WebSocket client.

### Spec-Driven Development with Guardrails

**Key Design Decision**: Unlike TypeScript functions that return void and send messages as side effects, our Clojure functions will:
1. Return Pronto proto-maps (not plain EDN) containing the complete CMD protobuf tree
2. Enable testing without side effects
3. Allow inspection and validation of generated messages
4. Separate message construction from sending
5. Use Pronto's optimized performance patterns (`p->`, hints, batch updates)

**Guardrails Integration**:
- Every function will have a preceding `def` with Malli specs
- Custom generators attached to specs for property-based testing
- Guardrails instrumentation enabled during tool operation
- Direct testing of guardrailed functions with generated inputs

Example structure:
```clojure
;; Spec definition with custom generator (registered globally)
(def day-camera-zoom-spec
  [:map 
   [:value [:double {:min 0.0 :max 1.0 
                    :gen/gen (gen/double* {:min 0.0 :max 1.0})}]]])

;; Register in global Malli registry
(malli.registry/register! :day-camera/zoom day-camera-zoom-spec)

;; Guardrailed function using com.fulcrologic.guardrails.malli
(>defn day-camera-set-zoom
  [zoom-value]
  [:day-camera/zoom => :cmd/root]  ; Returns Pronto proto-map
  ;; Use Pronto to create proto-map with optimized initialization
  (p/proto-map mapper DayCamera$Zoom :value zoom-value))
```

**Shared Specs Directory**:
Create `src/cmd_explorer/specs/shared.clj` for reusable specs:
- Angle specs (azimuth, elevation, bank)
- Range specs (0-1 normalized values)
- Position specs (lat/lon/alt)
- Common enums (localization, modes)
- Full CMD root spec with oneof validation

**Return Value Spec**:
All functions return a complete CMD root message as a Pronto proto-map:
- Must validate against `:cmd/root` spec (using adapted oneof spec from Phase 0)
- Exactly one payload field populated (validated via `p/which-one-of`)
- All required fields present (Pronto ensures all fields exist with defaults)
- Ready for direct serialization via `p/proto-map->bytes`

### Implementation Flow

1. **Pre-Implementation Research (MANDATORY for EVERY function)**
   - **Read TypeScript source**: Examine the exact implementation in `/examples/web/frontend/ts/cmd/`
   - **Use proto-explorer**: Run `./proto-explorer cmd <MessageType>` to understand:
     - Message structure and field types
     - Nested message requirements
     - Buf.validate constraints on each field
     - Oneof groups and required fields
   - **Document findings**: Note any special constraints or business logic
   
   Example workflow:
   ```bash
   # For implementing day-camera-set-zoom
   1. Read: /examples/web/frontend/ts/cmd/cmdSender/cmdDayCamera.ts:99
   2. Explore: bb spec DayCamera.Root
   3. Explore: bb spec DayCamera.Zoom
   4. Note: zoom value constraint is [0.0, 1.0] from buf.validate
   ```

2. **Function Implementation**
   - Define Malli spec with custom generators based on proto constraints
   - Register spec in global Malli registry
   - Create guardrailed function with >defn (from `com.fulcrologic.guardrails.malli`)
   - Add input and output spec annotations using registry keys
   - Return complete CMD protobuf tree as Pronto proto-map
   - Use Pronto performance optimizations (`p/proto-map` with all fields, `p->` for updates)
   - No side effects in command construction

3. **Testing Strategy (for EVERY function)**
   - Exercise guardrailed function directly with generated inputs
   - Simple value tests (positive cases)
   - Negative tests (invalid inputs)
   - Boundary tests (min/max values from buf.validate discovered via proto-explorer)
   - Generative tests (minimum 300 runs using spec generators)
   - Validate returned proto-map structure matches proto definition
   - Verify oneof constraints with `p/which-one-of`
   - Test serialization round-trip with `p/proto-map->bytes` and `p/bytes->proto-map`

4. **Validation Layers**
   - Input validation via Malli specs
   - Buf.validate constraint checking
   - Protobuf serialization validation
   - Mock WebSocket response validation

5. **Multimethod Dispatch**
   - Dispatch on payload type (oneof field name via `p/which-one-of`)
   - Each method constructs appropriate nested message as proto-map
   - Central send-command function handles common fields
   - Uses Pronto for efficient message construction

### Custom Oneof Spec
Oneof spec adaptation for Pronto (see Phase 0):
- Already copied and adapted in Phase 0 as `oneof_payload.clj`
- Uses Pronto's `which-one-of` and `one-of` functions
- Validates proto-maps, not plain Clojure maps
- Generators produce valid Pronto instances
- Integrate with Pronto's message generation

### Testing Infrastructure

1. **Mock WebSocket Server**
   - Receives binary protobuf messages
   - Deserializes and validates using buf.validate
   - Returns success/error responses
   - Logs all received commands for verification

2. **Generative Testing Requirements**
   - Custom generators respecting buf.validate annotations
   - Minimum 300 test runs per function
   - Property: "valid inputs always produce valid protobuf"
   - Property: "invalid inputs always fail validation"

3. **Validation Checkpoints**
   - Pre-send: Malli spec validation
   - Serialization: Protobuf encoding success
   - Buf.validate: Constraint satisfaction
   - Mock response: Server acceptance

## Implementation Todos

### Phase 1: Project Setup
- [x] Create deps.edn with dependencies (pronto, malli, guardrails, hato, protobuf, test.check)
- [x] Verify Phase 0 oneof spec is working correctly (already adapted in Phase 0)
- [x] Set up project structure (src/, test/, resources/, src/cmd_explorer/specs/)
- [x] Create Makefile with test and run targets
- [x] Copy protobuf classes from main project (like state-explorer)
- [ ] Set up logging configuration
- [x] Configure guardrails.edn with instrumentation settings
- [x] Enable guardrails instrumentation in dev/test profiles

### Phase 2: Core Infrastructure
- [x] Create shared specs directory (src/cmd_explorer/specs/shared.clj)
- [x] Define cmd-root-spec with oneof validation
  - [x] Use Pronto's `which-one-of` to determine active command type
  - [x] Use getter methods to extract the actual command payload
  - [x] Ensure exactly one command field is set in JonCommand oneof
  - [x] Create Malli spec that validates oneof constraints
- [x] Create test harness for automatic proto compilation checking
  - [x] Auto-compile Pronto Java sources if needed
  - [x] Check protobuf classes are compiled
  - [x] Register custom oneof-pronto schema
  - [x] Initialize Malli global registry
- [x] Define common reusable specs (angles, ranges, positions, enums)
- [ ] **Reconcile custom specs with proto-generated specs for Pronto compatibility**
  - [ ] Compare one-off custom specs with proto-explorer generated specs
  - [ ] Identify discrepancies between manual specs and proto definitions
  - [ ] **Adapt custom specs to work with Pronto proto-maps**
    - [ ] Specs must validate Pronto proto-map structure (not raw Clojure maps)
    - [ ] Account for Pronto's behavior: all fields always present with defaults
    - [ ] Handle scalar fields: never nil, always have zero-values when unset
    - [ ] Handle message fields: can be nil when unset
    - [ ] Validate oneof constraints using Pronto's `which-one-of` function
  - [ ] Adjust custom specs to match proto field names and structure
  - [ ] Ensure spec generators align with buf.validate constraints
  - [ ] **Create comprehensive unit tests for spec validation**
    - [ ] Test spec validation with Pronto proto-maps (not plain maps)
    - [ ] Test that specs accept valid proto-map instances
    - [ ] Test that specs reject invalid data (wrong types, missing required oneofs)
    - [ ] Test spec generators produce valid Pronto proto-maps
    - [ ] Generate 1000+ samples and verify all pass validation
    - [ ] Verify generated data can round-trip through protobuf serialization
  - [ ] Validate spec coercion matches protobuf type system
  - [ ] Handle oneof fields properly in specs (only one field should be set)
- [x] Attach custom generators to all specs
- [x] **Create Pronto-Malli integration layer**
  - [x] Helper function to validate Pronto proto-map with Malli spec
  - [x] Helper function to generate Pronto proto-map from Malli spec
  - [ ] Ensure generators produce valid Pronto instances, not plain maps
  - [ ] Create test suite specifically for Pronto-Malli integration
    - [ ] Test that `(m/validate spec (p/proto-map ...))` works correctly
    - [ ] Test that `(mg/generate spec)` produces valid proto-maps
    - [ ] Test oneof validation: exactly one field set
    - [ ] Test nested message handling
    - [ ] Test repeated fields and map fields
- [ ] Implement WebSocket client module (use state-explorer as reference)
- [ ] Create mock WebSocket server for testing
- [ ] Implement protobuf message builder utilities
  - [ ] **Optimize for Pronto performance characteristics**
    - [ ] Use `p/proto-map` with initial values to avoid multiple assocs
    - [ ] Prefer `(p/proto-map mapper Class :field1 val1 :field2 val2)` 
    - [ ] Avoid `(-> (p/proto-map ...) (assoc :field1 val1) (assoc :field2 val2))`
  - [ ] **Use `p->` threading macro for multiple mutations**
    - [ ] Replace multiple assocs with single `p->` expression
    - [ ] Leverage transients automatically via `p->`
    - [ ] Example: `(p/p-> msg (assoc :field1 val1) (update :field2 inc))`
  - [ ] **Apply type hints for performance-critical paths**
    - [ ] Use `(p/hint proto-map Class mapper)` in hot code paths
    - [ ] Use `p/with-hints` for blocks with multiple operations
    - [ ] Benchmark before/after to verify performance gains
  - [ ] **Batch field updates to minimize builder roundtrips**
    - [ ] Group related field updates together
    - [ ] Avoid interleaving reads and writes
    - [ ] Remember: single assoc cost grows linearly with schema size
- [ ] Create multimethod dispatcher for command routing
- [ ] Implement base command function with common fields
- [ ] Set up buf.validate constraint extraction from proto classes
- [ ] Create test harness for exercising guardrailed functions

### Phase 3: Core Command Functions
- [ ] Implement send-cmd-ping (standalone ping command)
  - [ ] Use Pronto to create JonCommand proto-map
  - [ ] Set :ping field in the oneof (validates exactly one field set)
  - [ ] Verify with `(p/which-one-of cmd-map :command)` returns :ping
- [ ] Implement send-cmd-frozen (standalone frozen command)
  - [ ] Use Pronto to create JonCommand proto-map
  - [ ] Set :frozen field in the oneof
  - [ ] Verify oneof constraint is maintained
- [ ] Add comprehensive tests for core commands

### Phase 4: Day Camera Commands (28 functions)
- [ ] day-camera-set-infra-red-filter (cmdSender/cmdDayCamera.ts:5)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:5
  - [ ] Proto-explore: bb spec DayCamera.SetFilters
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-set-infra-red-filter with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-set-iris (cmdSender/cmdDayCamera.ts:12)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:12
  - [ ] Proto-explore: bb spec DayCamera.Iris
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-set-iris with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-set-auto-iris (cmdSender/cmdDayCamera.ts:19)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:19
  - [ ] Proto-explore: bb spec DayCamera.Iris
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-set-auto-iris with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-take-photo (cmdSender/cmdDayCamera.ts:26)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:26
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-take-photo with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-start (cmdSender/cmdDayCamera.ts:37)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:37
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-start with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-stop (cmdSender/cmdDayCamera.ts:44)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:44
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-stop with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-set-focus (cmdSender/cmdDayCamera.ts:51)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:51
  - [ ] Proto-explore: bb spec DayCamera.Focus
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-set-focus with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-move-focus (cmdSender/cmdDayCamera.ts:59)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:59
  - [ ] Proto-explore: bb spec DayCamera.Focus
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-move-focus with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-halt-focus (cmdSender/cmdDayCamera.ts:67)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:67
  - [ ] Proto-explore: bb spec DayCamera.Focus
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-halt-focus with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-offset-focus (cmdSender/cmdDayCamera.ts:75)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:75
  - [ ] Proto-explore: bb spec DayCamera.Focus
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-offset-focus with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-reset-focus (cmdSender/cmdDayCamera.ts:83)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:83
  - [ ] Proto-explore: bb spec DayCamera.Focus
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-reset-focus with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-save-focus-to-table (cmdSender/cmdDayCamera.ts:91)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:91
  - [ ] Proto-explore: bb spec DayCamera.Focus
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-save-focus-to-table with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-set-zoom (cmdSender/cmdDayCamera.ts:99)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:99
  - [ ] Proto-explore: bb spec DayCamera.Zoom
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-set-zoom with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-move-zoom (cmdSender/cmdDayCamera.ts:107)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:107
  - [ ] Proto-explore: bb spec DayCamera.Zoom
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-move-zoom with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-halt-zoom (cmdSender/cmdDayCamera.ts:115)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:115
  - [ ] Proto-explore: bb spec DayCamera.Zoom
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-halt-zoom with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-offset-zoom (cmdSender/cmdDayCamera.ts:123)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:123
  - [ ] Proto-explore: bb spec DayCamera.Zoom
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-offset-zoom with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-reset-zoom (cmdSender/cmdDayCamera.ts:131)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:131
  - [ ] Proto-explore: bb spec DayCamera.Zoom
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-reset-zoom with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-save-zoom-to-table (cmdSender/cmdDayCamera.ts:139)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:139
  - [ ] Proto-explore: bb spec DayCamera.Zoom
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-save-zoom-to-table with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-set-zoom-table-value (cmdSender/cmdDayCamera.ts:147)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:147
  - [ ] Proto-explore: bb spec DayCamera.Zoom
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-set-zoom-table-value with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-set-digital-zoom-level (cmdSender/cmdDayCamera.ts:155)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:155
  - [ ] Proto-explore: bb spec DayCamera.Zoom
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-set-digital-zoom-level with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-next-zoom-table-pos (cmdSender/cmdDayCamera.ts:163)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:163
  - [ ] Proto-explore: bb spec DayCamera.Zoom
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-next-zoom-table-pos with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-prev-zoom-table-pos (cmdSender/cmdDayCamera.ts:171)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:171
  - [ ] Proto-explore: bb spec DayCamera.Zoom
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-prev-zoom-table-pos with tests'
  - [ ] Update todo.md - mark completed items
- [ ] get-meteo (cmdSender/cmdDayCamera.ts:179)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:179
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement get-meteo with tests'
  - [ ] Update todo.md - mark completed items
- [ ] set-fx-mode (cmdSender/cmdDayCamera.ts:186)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:186
  - [ ] Proto-explore: bb spec DayCamera.Fx
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement set-fx-mode with tests'
  - [ ] Update todo.md - mark completed items
- [ ] next-fx-mode (cmdSender/cmdDayCamera.ts:193)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:193
  - [ ] Proto-explore: bb spec DayCamera.Fx
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement next-fx-mode with tests'
  - [ ] Update todo.md - mark completed items
- [ ] prev-fx-mode (cmdSender/cmdDayCamera.ts:200)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:200
  - [ ] Proto-explore: bb spec DayCamera.Fx
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement prev-fx-mode with tests'
  - [ ] Update todo.md - mark completed items
- [ ] set-clahe-level (cmdSender/cmdDayCamera.ts:207)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:207
  - [ ] Proto-explore: bb spec DayCamera.Clahe
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement set-clahe-level with tests'
  - [ ] Update todo.md - mark completed items
- [ ] shift-clahe-level (cmdSender/cmdDayCamera.ts:214)
  - [ ] Read TS source at cmdSender/cmdDayCamera.ts:214
  - [ ] Proto-explore: bb spec DayCamera.Clahe
  - [ ] Proto-explore: bb spec DayCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement shift-clahe-level with tests'
  - [ ] Update todo.md - mark completed items

### Phase 5: Heat Camera Commands (34 functions)
- [ ] heat-camera-take-photo (cmdSender/cmdHeatCamera.ts:5)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:5
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-take-photo with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-set-agc (cmdSender/cmdHeatCamera.ts:16)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:16
  - [ ] Proto-explore: bb spec HeatCamera.SetAGC
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-set-agc with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-set-filter (cmdSender/cmdHeatCamera.ts:23)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:23
  - [ ] Proto-explore: bb spec HeatCamera.SetFilters
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-set-filter with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-set-zoom-table-value (cmdSender/cmdHeatCamera.ts:30)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:30
  - [ ] Proto-explore: bb spec HeatCamera.Zoom
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-set-zoom-table-value with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-set-digital-zoom-level (cmdSender/cmdHeatCamera.ts:38)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:38
  - [ ] Proto-explore: bb spec HeatCamera.Zoom
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-set-digital-zoom-level with tests'
  - [ ] Update todo.md - mark completed items
- [ ] string-to-heat-camera-agc-mode (cmdSender/cmdHeatCamera.ts:45)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:45
  - [ ] Proto-explore: bb spec HeatCamera.SetAGC
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement string-to-heat-camera-agc-mode with tests'
  - [ ] Update todo.md - mark completed items
- [ ] string-to-heat-camera-filter (cmdSender/cmdHeatCamera.ts:58)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:58
  - [ ] Proto-explore: bb spec HeatCamera.SetFilters
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement string-to-heat-camera-filter with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-calibrate (cmdSender/cmdHeatCamera.ts:71)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:71
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-calibrate with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-start (cmdSender/cmdHeatCamera.ts:78)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:78
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-start with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-stop (cmdSender/cmdHeatCamera.ts:85)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:85
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-stop with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-zoom-in (cmdSender/cmdHeatCamera.ts:92)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:92
  - [ ] Proto-explore: bb spec HeatCamera.Zoom
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-zoom-in with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-zoom-out (cmdSender/cmdHeatCamera.ts:99)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:99
  - [ ] Proto-explore: bb spec HeatCamera.Zoom
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-zoom-out with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-zoom-stop (cmdSender/cmdHeatCamera.ts:106)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:106
  - [ ] Proto-explore: bb spec HeatCamera.Zoom
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-zoom-stop with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-set-auto-focus-on (cmdSender/cmdHeatCamera.ts:120)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:120
  - [ ] Proto-explore: bb spec HeatCamera.Focus
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-set-auto-focus-on with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-set-auto-focus-off (cmdSender/cmdHeatCamera.ts:125)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:125
  - [ ] Proto-explore: bb spec HeatCamera.Focus
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-set-auto-focus-off with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-focus-stop (cmdSender/cmdHeatCamera.ts:130)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:130
  - [ ] Proto-explore: bb spec HeatCamera.Focus
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-focus-stop with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-focus-in (cmdSender/cmdHeatCamera.ts:137)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:137
  - [ ] Proto-explore: bb spec HeatCamera.Focus
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-focus-in with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-focus-out (cmdSender/cmdHeatCamera.ts:144)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:144
  - [ ] Proto-explore: bb spec HeatCamera.Focus
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-focus-out with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-focus-step-plus (cmdSender/cmdHeatCamera.ts:151)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:151
  - [ ] Proto-explore: bb spec HeatCamera.Focus
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-focus-step-plus with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-focus-step-minus (cmdSender/cmdHeatCamera.ts:158)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:158
  - [ ] Proto-explore: bb spec HeatCamera.Focus
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-focus-step-minus with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-next-zoom-table-pos (cmdSender/cmdHeatCamera.ts:165)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:165
  - [ ] Proto-explore: bb spec HeatCamera.Zoom
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-next-zoom-table-pos with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-prev-zoom-table-pos (cmdSender/cmdHeatCamera.ts:173)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:173
  - [ ] Proto-explore: bb spec HeatCamera.Zoom
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-prev-zoom-table-pos with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-reset-zoom (cmdSender/cmdHeatCamera.ts:181)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:181
  - [ ] Proto-explore: bb spec HeatCamera.Zoom
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-reset-zoom with tests'
  - [ ] Update todo.md - mark completed items
- [ ] heat-camera-save-zoom-to-table (cmdSender/cmdHeatCamera.ts:188)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:188
  - [ ] Proto-explore: bb spec HeatCamera.Zoom
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement heat-camera-save-zoom-to-table with tests'
  - [ ] Update todo.md - mark completed items
- [ ] get-meteo (cmdSender/cmdHeatCamera.ts:195)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:195
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement get-meteo with tests'
  - [ ] Update todo.md - mark completed items
- [ ] enable-dde (cmdSender/cmdHeatCamera.ts:202)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:202
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement enable-dde with tests'
  - [ ] Update todo.md - mark completed items
- [ ] disable-dde (cmdSender/cmdHeatCamera.ts:209)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:209
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement disable-dde with tests'
  - [ ] Update todo.md - mark completed items
- [ ] set-dde-level (cmdSender/cmdHeatCamera.ts:216)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:216
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement set-dde-level with tests'
  - [ ] Update todo.md - mark completed items
- [ ] shift-dde-level (cmdSender/cmdHeatCamera.ts:223)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:223
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement shift-dde-level with tests'
  - [ ] Update todo.md - mark completed items
- [ ] set-fx-mode (cmdSender/cmdHeatCamera.ts:230)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:230
  - [ ] Proto-explore: bb spec HeatCamera.Fx
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement set-fx-mode with tests'
  - [ ] Update todo.md - mark completed items
- [ ] next-fx-mode (cmdSender/cmdHeatCamera.ts:237)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:237
  - [ ] Proto-explore: bb spec HeatCamera.Fx
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement next-fx-mode with tests'
  - [ ] Update todo.md - mark completed items
- [ ] prev-fx-mode (cmdSender/cmdHeatCamera.ts:244)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:244
  - [ ] Proto-explore: bb spec HeatCamera.Fx
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement prev-fx-mode with tests'
  - [ ] Update todo.md - mark completed items
- [ ] set-clahe-level (cmdSender/cmdHeatCamera.ts:251)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:251
  - [ ] Proto-explore: bb spec HeatCamera.Clahe
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement set-clahe-level with tests'
  - [ ] Update todo.md - mark completed items
- [ ] shift-clahe-level (cmdSender/cmdHeatCamera.ts:258)
  - [ ] Read TS source at cmdSender/cmdHeatCamera.ts:258
  - [ ] Proto-explore: bb spec HeatCamera.Clahe
  - [ ] Proto-explore: bb spec HeatCamera.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement shift-clahe-level with tests'
  - [ ] Update todo.md - mark completed items

### Phase 6: Rotary Commands (41 functions)
- [ ] rotary-start (cmdSender/cmdRotary.ts:5)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:5
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotary-start with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotary-stop (cmdSender/cmdRotary.ts:12)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:12
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotary-stop with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotary-halt (cmdSender/cmdRotary.ts:19)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:19
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotary-halt with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotary-set-platform-azimuth (cmdSender/cmdRotary.ts:26)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:26
  - [ ] Proto-explore: bb spec RotaryPlatform.Azimuth
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotary-set-platform-azimuth with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotary-set-platform-elevation (cmdSender/cmdRotary.ts:33)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:33
  - [ ] Proto-explore: bb spec RotaryPlatform.Elevation
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotary-set-platform-elevation with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotary-set-platform-bank (cmdSender/cmdRotary.ts:40)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:40
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotary-set-platform-bank with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotary-halt-azimuth (cmdSender/cmdRotary.ts:47)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:47
  - [ ] Proto-explore: bb spec RotaryPlatform.Azimuth
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotary-halt-azimuth with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotary-halt-elevation (cmdSender/cmdRotary.ts:55)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:55
  - [ ] Proto-explore: bb spec RotaryPlatform.Elevation
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotary-halt-elevation with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotary-halt-elevation-and-azimuth (cmdSender/cmdRotary.ts:63)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:63
  - [ ] Proto-explore: bb spec RotaryPlatform.Azimuth
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotary-halt-elevation-and-azimuth with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotary-azimuth-set-value (cmdSender/cmdRotary.ts:77)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:77
  - [ ] Proto-explore: bb spec RotaryPlatform.Azimuth
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotary-azimuth-set-value with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotary-azimuth-rotate-to (cmdSender/cmdRotary.ts:85)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:85
  - [ ] Proto-explore: bb spec RotaryPlatform.Azimuth
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotary-azimuth-rotate-to with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotary-azimuth-rotate-relative (cmdSender/cmdRotary.ts:97)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:97
  - [ ] Proto-explore: bb spec RotaryPlatform.Azimuth
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotary-azimuth-rotate-relative with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotary-elevation-rotate-relative (cmdSender/cmdRotary.ts:109)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:109
  - [ ] Proto-explore: bb spec RotaryPlatform.Elevation
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotary-elevation-rotate-relative with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotary-elevation-rotate-relative-set (cmdSender/cmdRotary.ts:121)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:121
  - [ ] Proto-explore: bb spec RotaryPlatform.Elevation
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotary-elevation-rotate-relative-set with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotary-azimuth-rotate-relative-set (cmdSender/cmdRotary.ts:132)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:132
  - [ ] Proto-explore: bb spec RotaryPlatform.Azimuth
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotary-azimuth-rotate-relative-set with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotary-azimuth-rotate (cmdSender/cmdRotary.ts:143)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:143
  - [ ] Proto-explore: bb spec RotaryPlatform.Azimuth
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotary-azimuth-rotate with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotary-elevation-rotate (cmdSender/cmdRotary.ts:151)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:151
  - [ ] Proto-explore: bb spec RotaryPlatform.Elevation
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotary-elevation-rotate with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotary-elevation-set-value (cmdSender/cmdRotary.ts:159)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:159
  - [ ] Proto-explore: bb spec RotaryPlatform.Elevation
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotary-elevation-set-value with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotary-elevation-rotate-to (cmdSender/cmdRotary.ts:167)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:167
  - [ ] Proto-explore: bb spec RotaryPlatform.Elevation
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotary-elevation-rotate-to with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotate-both-to (cmdSender/cmdRotary.ts:178)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:178
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotate-both-to with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotate-both (cmdSender/cmdRotary.ts:200)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:200
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotate-both with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotate-both-relative (cmdSender/cmdRotary.ts:220)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:220
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotate-both-relative with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotate-both-relative-set (cmdSender/cmdRotary.ts:243)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:243
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotate-both-relative-set with tests'
  - [ ] Update todo.md - mark completed items
- [ ] set-both-to (cmdSender/cmdRotary.ts:264)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:264
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement set-both-to with tests'
  - [ ] Update todo.md - mark completed items
- [ ] set-calculate-base-position-from-compass (cmdSender/cmdRotary.ts:281)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:281
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement set-calculate-base-position-from-compass with tests'
  - [ ] Update todo.md - mark completed items
- [ ] get-meteo (cmdSender/cmdRotary.ts:288)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:288
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement get-meteo with tests'
  - [ ] Update todo.md - mark completed items
- [ ] set-rotate-to-gps (cmdSender/cmdRotary.ts:295)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:295
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement set-rotate-to-gps with tests'
  - [ ] Update todo.md - mark completed items
- [ ] set-origin-gps (cmdSender/cmdRotary.ts:307)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:307
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement set-origin-gps with tests'
  - [ ] Update todo.md - mark completed items
- [ ] string-to-rotary-mode (cmdSender/cmdRotary.ts:319)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:319
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement string-to-rotary-mode with tests'
  - [ ] Update todo.md - mark completed items
- [ ] set-rotary-mode (cmdSender/cmdRotary.ts:338)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:338
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement set-rotary-mode with tests'
  - [ ] Update todo.md - mark completed items
- [ ] string-to-rotary-direction (cmdSender/cmdRotary.ts:345)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:345
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement string-to-rotary-direction with tests'
  - [ ] Update todo.md - mark completed items
- [ ] rotate-to-ndc (cmdSender/cmdRotary.ts:357)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:357
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement rotate-to-ndc with tests'
  - [ ] Update todo.md - mark completed items
- [ ] scan-start (cmdSender/cmdRotary.ts:369)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:369
  - [ ] Proto-explore: bb spec RotaryPlatform.ScanStart
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement scan-start with tests'
  - [ ] Update todo.md - mark completed items
- [ ] scan-prev (cmdSender/cmdRotary.ts:376)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:376
  - [ ] Proto-explore: bb spec RotaryPlatform.ScanPrev
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement scan-prev with tests'
  - [ ] Update todo.md - mark completed items
- [ ] scan-next (cmdSender/cmdRotary.ts:383)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:383
  - [ ] Proto-explore: bb spec RotaryPlatform.ScanNext
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement scan-next with tests'
  - [ ] Update todo.md - mark completed items
- [ ] scan-stop (cmdSender/cmdRotary.ts:390)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:390
  - [ ] Proto-explore: bb spec RotaryPlatform.ScanStop
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement scan-stop with tests'
  - [ ] Update todo.md - mark completed items
- [ ] scan-pause (cmdSender/cmdRotary.ts:397)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:397
  - [ ] Proto-explore: bb spec RotaryPlatform.ScanPause
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement scan-pause with tests'
  - [ ] Update todo.md - mark completed items
- [ ] scan-unpause (cmdSender/cmdRotary.ts:404)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:404
  - [ ] Proto-explore: bb spec RotaryPlatform.ScanUnpause
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement scan-unpause with tests'
  - [ ] Update todo.md - mark completed items
- [ ] scan-refresh-node-list (cmdSender/cmdRotary.ts:412)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:412
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement scan-refresh-node-list with tests'
  - [ ] Update todo.md - mark completed items
- [ ] scan-select-node (cmdSender/cmdRotary.ts:419)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:419
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement scan-select-node with tests'
  - [ ] Update todo.md - mark completed items
- [ ] scan-delete-node (cmdSender/cmdRotary.ts:426)
  - [ ] Read TS source at cmdSender/cmdRotary.ts:426
  - [ ] Proto-explore: bb spec RotaryPlatform.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement scan-delete-node with tests'
  - [ ] Update todo.md - mark completed items

### Phase 7: LRF Commands (14 functions)
- [ ] lrf-start (cmdSender/cmdLRF.ts:5)
  - [ ] Read TS source at cmdSender/cmdLRF.ts:5
  - [ ] Proto-explore: bb spec Lrf.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement lrf-start with tests'
  - [ ] Update todo.md - mark completed items
- [ ] lrf-stop (cmdSender/cmdLRF.ts:12)
  - [ ] Read TS source at cmdSender/cmdLRF.ts:12
  - [ ] Proto-explore: bb spec Lrf.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement lrf-stop with tests'
  - [ ] Update todo.md - mark completed items
- [ ] lrf-new-session (cmdSender/cmdLRF.ts:19)
  - [ ] Read TS source at cmdSender/cmdLRF.ts:19
  - [ ] Proto-explore: bb spec Lrf.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement lrf-new-session with tests'
  - [ ] Update todo.md - mark completed items
- [ ] lrf-scan-on (cmdSender/cmdLRF.ts:26)
  - [ ] Read TS source at cmdSender/cmdLRF.ts:26
  - [ ] Proto-explore: bb spec Lrf.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement lrf-scan-on with tests'
  - [ ] Update todo.md - mark completed items
- [ ] refine-on (cmdSender/cmdLRF.ts:33)
  - [ ] Read TS source at cmdSender/cmdLRF.ts:33
  - [ ] Proto-explore: bb spec Lrf.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement refine-on with tests'
  - [ ] Update todo.md - mark completed items
- [ ] refine-off (cmdSender/cmdLRF.ts:40)
  - [ ] Read TS source at cmdSender/cmdLRF.ts:40
  - [ ] Proto-explore: bb spec Lrf.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement refine-off with tests'
  - [ ] Update todo.md - mark completed items
- [ ] lrf-scan-off (cmdSender/cmdLRF.ts:47)
  - [ ] Read TS source at cmdSender/cmdLRF.ts:47
  - [ ] Proto-explore: bb spec Lrf.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement lrf-scan-off with tests'
  - [ ] Update todo.md - mark completed items
- [ ] lrf-measure (cmdSender/cmdLRF.ts:54)
  - [ ] Read TS source at cmdSender/cmdLRF.ts:54
  - [ ] Proto-explore: bb spec Lrf.Measure
  - [ ] Proto-explore: bb spec Lrf.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement lrf-measure with tests'
  - [ ] Update todo.md - mark completed items
- [ ] lrf-enable-fog-mode (cmdSender/cmdLRF.ts:69)
  - [ ] Read TS source at cmdSender/cmdLRF.ts:69
  - [ ] Proto-explore: bb spec Lrf.FogMode
  - [ ] Proto-explore: bb spec Lrf.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement lrf-enable-fog-mode with tests'
  - [ ] Update todo.md - mark completed items
- [ ] lrf-disable-fog-mode (cmdSender/cmdLRF.ts:76)
  - [ ] Read TS source at cmdSender/cmdLRF.ts:76
  - [ ] Proto-explore: bb spec Lrf.FogMode
  - [ ] Proto-explore: bb spec Lrf.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement lrf-disable-fog-mode with tests'
  - [ ] Update todo.md - mark completed items
- [ ] lrf-target-designator-off (cmdSender/cmdLRF.ts:83)
  - [ ] Read TS source at cmdSender/cmdLRF.ts:83
  - [ ] Proto-explore: bb spec Lrf.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement lrf-target-designator-off with tests'
  - [ ] Update todo.md - mark completed items
- [ ] lrf-target-designator-on-mode-a (cmdSender/cmdLRF.ts:90)
  - [ ] Read TS source at cmdSender/cmdLRF.ts:90
  - [ ] Proto-explore: bb spec Lrf.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement lrf-target-designator-on-mode-a with tests'
  - [ ] Update todo.md - mark completed items
- [ ] lrf-target-designator-on-mode-b (cmdSender/cmdLRF.ts:97)
  - [ ] Read TS source at cmdSender/cmdLRF.ts:97
  - [ ] Proto-explore: bb spec Lrf.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement lrf-target-designator-on-mode-b with tests'
  - [ ] Update todo.md - mark completed items
- [ ] get-meteo (cmdSender/cmdLRF.ts:104)
  - [ ] Read TS source at cmdSender/cmdLRF.ts:104
  - [ ] Proto-explore: bb spec Lrf.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement get-meteo with tests'
  - [ ] Update todo.md - mark completed items

### Phase 8: Compass Commands (11 functions)
- [ ] compass-start (cmdSender/cmdCompass.ts:4)
  - [ ] Read TS source at cmdSender/cmdCompass.ts:4
  - [ ] Proto-explore: bb spec Compass.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement compass-start with tests'
  - [ ] Update todo.md - mark completed items
- [ ] get-meteo (cmdSender/cmdCompass.ts:11)
  - [ ] Read TS source at cmdSender/cmdCompass.ts:11
  - [ ] Proto-explore: bb spec Compass.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement get-meteo with tests'
  - [ ] Update todo.md - mark completed items
- [ ] compass-stop (cmdSender/cmdCompass.ts:19)
  - [ ] Read TS source at cmdSender/cmdCompass.ts:19
  - [ ] Proto-explore: bb spec Compass.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement compass-stop with tests'
  - [ ] Update todo.md - mark completed items
- [ ] set-magnetic-declination (cmdSender/cmdCompass.ts:26)
  - [ ] Read TS source at cmdSender/cmdCompass.ts:26
  - [ ] Proto-explore: bb spec Compass.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement set-magnetic-declination with tests'
  - [ ] Update todo.md - mark completed items
- [ ] set-offset-angle-azimuth (cmdSender/cmdCompass.ts:33)
  - [ ] Read TS source at cmdSender/cmdCompass.ts:33
  - [ ] Proto-explore: bb spec Compass.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement set-offset-angle-azimuth with tests'
  - [ ] Update todo.md - mark completed items
- [ ] set-offset-angle-elevation (cmdSender/cmdCompass.ts:40)
  - [ ] Read TS source at cmdSender/cmdCompass.ts:40
  - [ ] Proto-explore: bb spec Compass.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement set-offset-angle-elevation with tests'
  - [ ] Update todo.md - mark completed items
- [ ] calibrate-long-start (cmdSender/cmdCompass.ts:47)
  - [ ] Read TS source at cmdSender/cmdCompass.ts:47
  - [ ] Proto-explore: bb spec Compass.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement calibrate-long-start with tests'
  - [ ] Update todo.md - mark completed items
- [ ] calibrate-short-start (cmdSender/cmdCompass.ts:54)
  - [ ] Read TS source at cmdSender/cmdCompass.ts:54
  - [ ] Proto-explore: bb spec Compass.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement calibrate-short-start with tests'
  - [ ] Update todo.md - mark completed items
- [ ] calibrate-next (cmdSender/cmdCompass.ts:61)
  - [ ] Read TS source at cmdSender/cmdCompass.ts:61
  - [ ] Proto-explore: bb spec Compass.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement calibrate-next with tests'
  - [ ] Update todo.md - mark completed items
- [ ] calibrate-cancel (cmdSender/cmdCompass.ts:68)
  - [ ] Read TS source at cmdSender/cmdCompass.ts:68
  - [ ] Proto-explore: bb spec Compass.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement calibrate-cancel with tests'
  - [ ] Update todo.md - mark completed items
- [ ] set-use-rotary-position (cmdSender/cmdCompass.ts:75)
  - [ ] Read TS source at cmdSender/cmdCompass.ts:75
  - [ ] Proto-explore: bb spec Compass.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement set-use-rotary-position with tests'
  - [ ] Update todo.md - mark completed items

### Phase 9: Gps Commands (5 functions)
- [ ] gps-start (cmdSender/cmdGps.ts:4)
  - [ ] Read TS source at cmdSender/cmdGps.ts:4
  - [ ] Proto-explore: bb spec Gps.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement gps-start with tests'
  - [ ] Update todo.md - mark completed items
- [ ] gps-stop (cmdSender/cmdGps.ts:11)
  - [ ] Read TS source at cmdSender/cmdGps.ts:11
  - [ ] Proto-explore: bb spec Gps.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement gps-stop with tests'
  - [ ] Update todo.md - mark completed items
- [ ] set-manual-position (cmdSender/cmdGps.ts:18)
  - [ ] Read TS source at cmdSender/cmdGps.ts:18
  - [ ] Proto-explore: bb spec Gps.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement set-manual-position with tests'
  - [ ] Update todo.md - mark completed items
- [ ] set-use-manual-position (cmdSender/cmdGps.ts:30)
  - [ ] Read TS source at cmdSender/cmdGps.ts:30
  - [ ] Proto-explore: bb spec Gps.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement set-use-manual-position with tests'
  - [ ] Update todo.md - mark completed items
- [ ] get-meteo (cmdSender/cmdGps.ts:38)
  - [ ] Read TS source at cmdSender/cmdGps.ts:38
  - [ ] Proto-explore: bb spec Gps.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement get-meteo with tests'
  - [ ] Update todo.md - mark completed items

### Phase 10: System Commands (11 functions)
- [ ] system-reboot (cmdSender/cmdSystem.ts:5)
  - [ ] Read TS source at cmdSender/cmdSystem.ts:5
  - [ ] Proto-explore: bb spec System.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement system-reboot with tests'
  - [ ] Update todo.md - mark completed items
- [ ] system-power-off (cmdSender/cmdSystem.ts:12)
  - [ ] Read TS source at cmdSender/cmdSystem.ts:12
  - [ ] Proto-explore: bb spec System.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement system-power-off with tests'
  - [ ] Update todo.md - mark completed items
- [ ] system-reset-configs (cmdSender/cmdSystem.ts:19)
  - [ ] Read TS source at cmdSender/cmdSystem.ts:19
  - [ ] Proto-explore: bb spec System.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement system-reset-configs with tests'
  - [ ] Update todo.md - mark completed items
- [ ] system-start-all (cmdSender/cmdSystem.ts:26)
  - [ ] Read TS source at cmdSender/cmdSystem.ts:26
  - [ ] Proto-explore: bb spec System.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement system-start-all with tests'
  - [ ] Update todo.md - mark completed items
- [ ] system-stop-all (cmdSender/cmdSystem.ts:33)
  - [ ] Read TS source at cmdSender/cmdSystem.ts:33
  - [ ] Proto-explore: bb spec System.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement system-stop-all with tests'
  - [ ] Update todo.md - mark completed items
- [ ] system-mark-rec-important (cmdSender/cmdSystem.ts:40)
  - [ ] Read TS source at cmdSender/cmdSystem.ts:40
  - [ ] Proto-explore: bb spec System.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement system-mark-rec-important with tests'
  - [ ] Update todo.md - mark completed items
- [ ] system-unmark-rec-important (cmdSender/cmdSystem.ts:47)
  - [ ] Read TS source at cmdSender/cmdSystem.ts:47
  - [ ] Proto-explore: bb spec System.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement system-unmark-rec-important with tests'
  - [ ] Update todo.md - mark completed items
- [ ] system-set-localization (cmdSender/cmdSystem.ts:54)
  - [ ] Read TS source at cmdSender/cmdSystem.ts:54
  - [ ] Proto-explore: bb spec System.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement system-set-localization with tests'
  - [ ] Update todo.md - mark completed items
- [ ] system-enter-transport (cmdSender/cmdSystem.ts:61)
  - [ ] Read TS source at cmdSender/cmdSystem.ts:61
  - [ ] Proto-explore: bb spec System.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement system-enter-transport with tests'
  - [ ] Update todo.md - mark completed items
- [ ] system-enable-geodesic-mode (cmdSender/cmdSystem.ts:68)
  - [ ] Read TS source at cmdSender/cmdSystem.ts:68
  - [ ] Proto-explore: bb spec System.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement system-enable-geodesic-mode with tests'
  - [ ] Update todo.md - mark completed items
- [ ] system-disable-geodesic-mode (cmdSender/cmdSystem.ts:75)
  - [ ] Read TS source at cmdSender/cmdSystem.ts:75
  - [ ] Proto-explore: bb spec System.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement system-disable-geodesic-mode with tests'
  - [ ] Update todo.md - mark completed items

### Phase 11: OSD Commands (8 functions)
- [ ] osd-show-default-screen (cmdSender/cmdOSD.ts:5)
  - [ ] Read TS source at cmdSender/cmdOSD.ts:5
  - [ ] Proto-explore: bb spec OSD.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement osd-show-default-screen with tests'
  - [ ] Update todo.md - mark completed items
- [ ] osd-show-lrf-measure-screen (cmdSender/cmdOSD.ts:12)
  - [ ] Read TS source at cmdSender/cmdOSD.ts:12
  - [ ] Proto-explore: bb spec OSD.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement osd-show-lrf-measure-screen with tests'
  - [ ] Update todo.md - mark completed items
- [ ] osd-show-lrf-result-screen (cmdSender/cmdOSD.ts:19)
  - [ ] Read TS source at cmdSender/cmdOSD.ts:19
  - [ ] Proto-explore: bb spec OSD.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement osd-show-lrf-result-screen with tests'
  - [ ] Update todo.md - mark completed items
- [ ] osd-show-lrf-result-simplified-screen (cmdSender/cmdOSD.ts:26)
  - [ ] Read TS source at cmdSender/cmdOSD.ts:26
  - [ ] Proto-explore: bb spec OSD.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement osd-show-lrf-result-simplified-screen with tests'
  - [ ] Update todo.md - mark completed items
- [ ] osd-disable-day-osd (cmdSender/cmdOSD.ts:33)
  - [ ] Read TS source at cmdSender/cmdOSD.ts:33
  - [ ] Proto-explore: bb spec OSD.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement osd-disable-day-osd with tests'
  - [ ] Update todo.md - mark completed items
- [ ] osd-disable-heat-osd (cmdSender/cmdOSD.ts:40)
  - [ ] Read TS source at cmdSender/cmdOSD.ts:40
  - [ ] Proto-explore: bb spec OSD.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement osd-disable-heat-osd with tests'
  - [ ] Update todo.md - mark completed items
- [ ] osd-enable-day-osd (cmdSender/cmdOSD.ts:47)
  - [ ] Read TS source at cmdSender/cmdOSD.ts:47
  - [ ] Proto-explore: bb spec OSD.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement osd-enable-day-osd with tests'
  - [ ] Update todo.md - mark completed items
- [ ] osd-enable-heat-osd (cmdSender/cmdOSD.ts:54)
  - [ ] Read TS source at cmdSender/cmdOSD.ts:54
  - [ ] Proto-explore: bb spec OSD.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement osd-enable-heat-osd with tests'
  - [ ] Update todo.md - mark completed items

### Phase 12: Cam Day Glass Heater Commands (5 functions)
- [ ] day-camera-glass-heater-start (cmdSender/cmdCamDayGlassHeater.ts:4)
  - [ ] Read TS source at cmdSender/cmdCamDayGlassHeater.ts:4
  - [ ] Proto-explore: bb spec DayCamGlassHeater.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-glass-heater-start with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-glass-heater-stop (cmdSender/cmdCamDayGlassHeater.ts:12)
  - [ ] Read TS source at cmdSender/cmdCamDayGlassHeater.ts:12
  - [ ] Proto-explore: bb spec DayCamGlassHeater.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-glass-heater-stop with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-glass-heater-turn-on (cmdSender/cmdCamDayGlassHeater.ts:20)
  - [ ] Read TS source at cmdSender/cmdCamDayGlassHeater.ts:20
  - [ ] Proto-explore: bb spec DayCamGlassHeater.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-glass-heater-turn-on with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-glass-heater-turn-off (cmdSender/cmdCamDayGlassHeater.ts:28)
  - [ ] Read TS source at cmdSender/cmdCamDayGlassHeater.ts:28
  - [ ] Proto-explore: bb spec DayCamGlassHeater.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-glass-heater-turn-off with tests'
  - [ ] Update todo.md - mark completed items
- [ ] day-camera-glass-heater-get-meteo (cmdSender/cmdCamDayGlassHeater.ts:36)
  - [ ] Read TS source at cmdSender/cmdCamDayGlassHeater.ts:36
  - [ ] Proto-explore: bb spec DayCamGlassHeater.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement day-camera-glass-heater-get-meteo with tests'
  - [ ] Update todo.md - mark completed items

### Phase 13: CV Commands (9 functions)
- [ ] cv-start-track-ndc (cmdSender/cmdCV.ts:7)
  - [ ] Read TS source at cmdSender/cmdCV.ts:7
  - [ ] Proto-explore: bb spec CV.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement cv-start-track-ndc with tests'
  - [ ] Update todo.md - mark completed items
- [ ] cv-stop-track (cmdSender/cmdCV.ts:80)
  - [ ] Read TS source at cmdSender/cmdCV.ts:80
  - [ ] Proto-explore: bb spec CV.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement cv-stop-track with tests'
  - [ ] Update todo.md - mark completed items
- [ ] cv-set-auto-focus (cmdSender/cmdCV.ts:87)
  - [ ] Read TS source at cmdSender/cmdCV.ts:87
  - [ ] Proto-explore: bb spec CV.Focus
  - [ ] Proto-explore: bb spec CV.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement cv-set-auto-focus with tests'
  - [ ] Update todo.md - mark completed items
- [ ] cv-enable-vampire-mode (cmdSender/cmdCV.ts:94)
  - [ ] Read TS source at cmdSender/cmdCV.ts:94
  - [ ] Proto-explore: bb spec CV.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement cv-enable-vampire-mode with tests'
  - [ ] Update todo.md - mark completed items
- [ ] cv-disable-vampire-mode (cmdSender/cmdCV.ts:101)
  - [ ] Read TS source at cmdSender/cmdCV.ts:101
  - [ ] Proto-explore: bb spec CV.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement cv-disable-vampire-mode with tests'
  - [ ] Update todo.md - mark completed items
- [ ] cv-enable-stabilization-mode (cmdSender/cmdCV.ts:108)
  - [ ] Read TS source at cmdSender/cmdCV.ts:108
  - [ ] Proto-explore: bb spec CV.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement cv-enable-stabilization-mode with tests'
  - [ ] Update todo.md - mark completed items
- [ ] cv-disable-stabilization-mode (cmdSender/cmdCV.ts:115)
  - [ ] Read TS source at cmdSender/cmdCV.ts:115
  - [ ] Proto-explore: bb spec CV.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement cv-disable-stabilization-mode with tests'
  - [ ] Update todo.md - mark completed items
- [ ] cv-dump-start (cmdSender/cmdCV.ts:122)
  - [ ] Read TS source at cmdSender/cmdCV.ts:122
  - [ ] Proto-explore: bb spec CV.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement cv-dump-start with tests'
  - [ ] Update todo.md - mark completed items
- [ ] cv-dump-stop (cmdSender/cmdCV.ts:129)
  - [ ] Read TS source at cmdSender/cmdCV.ts:129
  - [ ] Proto-explore: bb spec CV.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement cv-dump-stop with tests'
  - [ ] Update todo.md - mark completed items

### Phase 14: LRFAlignment Commands (8 functions)
- [ ] lrf-calib-set-day-offsets (cmdSender/cmdLRFAlignment.ts:4)
  - [ ] Read TS source at cmdSender/cmdLRFAlignment.ts:4
  - [ ] Proto-explore: bb spec Lrf_calib.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement lrf-calib-set-day-offsets with tests'
  - [ ] Update todo.md - mark completed items
- [ ] lrf-calib-set-heat-offsets (cmdSender/cmdLRFAlignment.ts:14)
  - [ ] Read TS source at cmdSender/cmdLRFAlignment.ts:14
  - [ ] Proto-explore: bb spec Lrf_calib.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement lrf-calib-set-heat-offsets with tests'
  - [ ] Update todo.md - mark completed items
- [ ] lrf-calib-shift-day-offsets (cmdSender/cmdLRFAlignment.ts:24)
  - [ ] Read TS source at cmdSender/cmdLRFAlignment.ts:24
  - [ ] Proto-explore: bb spec Lrf_calib.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement lrf-calib-shift-day-offsets with tests'
  - [ ] Update todo.md - mark completed items
- [ ] lrf-calib-shift-heat-offsets (cmdSender/cmdLRFAlignment.ts:34)
  - [ ] Read TS source at cmdSender/cmdLRFAlignment.ts:34
  - [ ] Proto-explore: bb spec Lrf_calib.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement lrf-calib-shift-heat-offsets with tests'
  - [ ] Update todo.md - mark completed items
- [ ] lrf-calib-save-day-offsets (cmdSender/cmdLRFAlignment.ts:44)
  - [ ] Read TS source at cmdSender/cmdLRFAlignment.ts:44
  - [ ] Proto-explore: bb spec Lrf_calib.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement lrf-calib-save-day-offsets with tests'
  - [ ] Update todo.md - mark completed items
- [ ] lrf-calib-save-heat-offsets (cmdSender/cmdLRFAlignment.ts:54)
  - [ ] Read TS source at cmdSender/cmdLRFAlignment.ts:54
  - [ ] Proto-explore: bb spec Lrf_calib.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement lrf-calib-save-heat-offsets with tests'
  - [ ] Update todo.md - mark completed items
- [ ] lrf-calib-reset-day-offsets (cmdSender/cmdLRFAlignment.ts:64)
  - [ ] Read TS source at cmdSender/cmdLRFAlignment.ts:64
  - [ ] Proto-explore: bb spec Lrf_calib.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement lrf-calib-reset-day-offsets with tests'
  - [ ] Update todo.md - mark completed items
- [ ] lrf-calib-reset-heat-offsets (cmdSender/cmdLRFAlignment.ts:74)
  - [ ] Read TS source at cmdSender/cmdLRFAlignment.ts:74
  - [ ] Proto-explore: bb spec Lrf_calib.Root
  - [ ] Document constraints from buf.validate
  - [ ] Define Malli spec with generators
  - [ ] Implement guardrailed function
  - [ ] Add unit tests (positive, negative, boundary)
  - [ ] Add generative tests (300+ runs)
  - [ ] Test with mock server
  - [ ] Verify binary compatibility
  - [ ] Ensure all tests pass
  - [ ] Commit: 'Implement lrf-calib-reset-heat-offsets with tests'
  - [ ] Update todo.md - mark completed items